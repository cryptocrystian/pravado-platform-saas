
@tailwind base;
@tailwind components;
@tailwind utilities;

/* PRAVADO Enhanced Design System - Complete Implementation */

@layer base {
  :root {
    /* ===== SOPHISTICATED GRAYSCALE FOUNDATION (HSL format) ===== */
    /* Pure whites and near-whites */
    --white: 0 0% 100%;
    --gray-0: 0 0% 100%;         /* Pure white */
    --gray-25: 220 14% 98%;      /* Subtle background variations */
    --gray-50: 220 14% 96%;      /* Light section backgrounds */
    --gray-75: 220 9% 97%;       /* Card hover states */
    --gray-100: 220 13% 94%;     /* Subtle borders and dividers */
    
    /* Medium Light Grays (UI Elements) */
    --gray-150: 220 13% 92%;     /* Between 100 and 200 */
    --gray-200: 220 13% 89%;     /* Input borders, inactive states */
    --gray-250: 220 10% 85%;     /* Disabled element backgrounds */
    --gray-300: 220 9% 80%;      /* Placeholder text, secondary borders */
    --gray-350: 220 8% 75%;      /* Secondary UI elements */
    
    /* Medium Grays (Text & Interactive Elements) */
    --gray-400: 220 9% 68%;      /* Secondary text, form labels */
    --gray-450: 220 9% 60%;      /* Tertiary text */
    --gray-500: 220 9% 45%;      /* Body text, icons */
    --gray-550: 220 9% 40%;      /* Medium emphasis text */
    --gray-600: 220 9% 35%;      /* High emphasis secondary text */
    
    /* Dark Grays (Primary Text & UI) */
    --gray-650: 220 13% 32%;     /* Between 600 and 700 */
    --gray-700: 220 13% 25%;     /* Primary text color */
    --gray-750: 220 15% 22%;     /* Strong emphasis text */
    --gray-800: 220 13% 18%;     /* Headers, navigation */
    --gray-850: 220 15% 15%;     /* Dark mode backgrounds */
    --gray-900: 220 13% 11%;     /* Darkest text, dark mode elements */
    --gray-925: 220 13% 8%;      /* Between 900 and 950 */
    --gray-950: 220 13% 5%;      /* Darkest backgrounds */
    --gray-975: 220 13% 3%;      /* Near black */
    --gray-1000: 0 0% 0%;        /* Pure black */
    
    /* Warm Grays (AI & Intelligence Elements) */
    --warm-gray-50: 30 20% 98%;   /* Warm light backgrounds */
    --warm-gray-100: 30 14% 96%;  /* AI insight backgrounds */
    --warm-gray-200: 30 12% 90%;  /* AI element borders */
    --warm-gray-300: 30 10% 82%;  /* AI secondary elements */
    --warm-gray-400: 30 8% 65%;   /* AI text elements */
    --warm-gray-500: 30 8% 45%;   /* AI body text */
    --warm-gray-600: 30 10% 32%;  /* AI emphasis text */
    --warm-gray-700: 30 12% 25%;  /* AI headers */
    
    /* Cool Grays (Technical & Data Elements) */
    --cool-gray-50: 210 40% 98%;  /* Technical backgrounds */
    --cool-gray-100: 214 32% 95%; /* Data visualization backgrounds */
    --cool-gray-200: 214 32% 89%; /* Chart grid lines */
    --cool-gray-300: 215 28% 82%; /* Data element borders */
    --cool-gray-400: 215 20% 68%; /* Data labels */
    --cool-gray-500: 215 25% 58%; /* Chart text */
    --cool-gray-600: 215 25% 35%; /* Data emphasis */
    --cool-gray-700: 215 25% 27%; /* Data headers */

    /* ===== PRAVADO BRAND COLORS (AI Intelligence - HSL) ===== */
    /* PRAVADO Purple (AI Intelligence) */
    --pravado-purple-50: 270 100% 98%;   /* Near white with purple hint */
    --pravado-purple-100: 270 100% 95%;  /* Very light purple */
    --pravado-purple-200: 270 100% 90%;  /* Light purple */
    --pravado-purple-300: 270 100% 82%;  /* Medium light purple */
    --pravado-purple-400: 270 100% 75%;  /* Medium purple */
    --pravado-purple-500: 255 91% 67%;   /* Primary brand color */
    --pravado-purple-600: 255 91% 67%;   /* Interactive elements */
    --pravado-purple-700: 255 87% 63%;   /* Active states */
    --pravado-purple-800: 255 83% 58%;   /* Dark mode accents */
    --pravado-purple-900: 255 78% 52%;   /* Deepest purple */
    
    /* Success Green (Achievements & Positive Metrics) */
    --success-50: 142 76% 97%;   /* Very light green */
    --success-100: 142 71% 92%;  /* Light green */
    --success-200: 142 69% 85%;  /* Medium light green */
    --success-300: 142 64% 75%;  /* Medium green */
    --success-400: 142 69% 68%;  /* Medium strong green */
    --success-500: 142 71% 45%;  /* Primary success color */
    --success-600: 142 76% 36%;  /* Success emphasis */
    --success-700: 142 72% 29%;  /* Success dark states */
    
    /* Alert Red (Urgent Opportunities & Critical Actions) */
    --alert-50: 0 86% 97%;       /* Very light red */
    --alert-100: 0 93% 94%;      /* Light red */
    --alert-200: 0 96% 89%;      /* Medium light red */
    --alert-300: 0 94% 82%;      /* Medium red */
    --alert-400: 0 91% 71%;      /* Medium strong red */
    --alert-500: 0 84% 60%;      /* Primary alert color */
    --alert-600: 0 72% 51%;      /* Alert emphasis */
    --alert-700: 0 74% 42%;      /* Alert dark states */
    
    /* Warning Orange (Review Needed & Medium Priority) */
    --warning-50: 48 100% 96%;   /* Very light orange */
    --warning-100: 48 96% 89%;   /* Light orange */
    --warning-200: 48 97% 77%;   /* Medium light orange */
    --warning-300: 45 93% 66%;   /* Medium orange */
    --warning-400: 43 96% 56%;   /* Medium strong orange */
    --warning-500: 38 92% 50%;   /* Primary warning color */
    --warning-600: 32 95% 44%;   /* Warning emphasis */
    --warning-700: 26 90% 37%;   /* Warning dark states */
    
    /* Intelligence Blue (Data & Analytics) */
    --intelligence-50: 214 100% 97%;  /* Very light blue */
    --intelligence-100: 214 95% 93%;  /* Light blue */
    --intelligence-200: 213 97% 87%;  /* Medium light blue */
    --intelligence-300: 212 96% 78%;  /* Medium blue */
    --intelligence-400: 213 93% 68%;  /* Medium strong blue */
    --intelligence-500: 217 91% 60%;  /* Primary intelligence color */
    --intelligence-600: 221 83% 53%;  /* Intelligence emphasis */
    --intelligence-700: 224 76% 48%;  /* Intelligence dark states */

    /* ===== SHADOW & DEPTH SYSTEM ===== */
    /* Subtle Depth (Cards, Panels) */
    --shadow-xs: 0 1px 2px 0 rgba(17, 24, 39, 0.03);
    --shadow-sm: 0 1px 3px 0 rgba(17, 24, 39, 0.06), 
                 0 1px 2px 0 rgba(17, 24, 39, 0.04);
    --shadow-md: 0 4px 6px -1px rgba(17, 24, 39, 0.08), 
                 0 2px 4px -1px rgba(17, 24, 39, 0.04);
    
    /* Elevated Elements (Modals, Popovers) */
    --shadow-lg: 0 10px 15px -3px rgba(17, 24, 39, 0.08), 
                 0 4px 6px -2px rgba(17, 24, 39, 0.04);
    --shadow-xl: 0 20px 25px -5px rgba(17, 24, 39, 0.08), 
                 0 10px 10px -5px rgba(17, 24, 39, 0.02);
    
    /* Premium Effects (Floating Elements) */
    --shadow-2xl: 0 25px 50px -12px rgba(17, 24, 39, 0.12);
    --shadow-inner: inset 0 2px 4px 0 rgba(17, 24, 39, 0.04);
    
    /* Colored Shadows (Brand Elements) */
    --shadow-purple: 0 4px 14px 0 rgba(139, 92, 246, 0.15);
    --shadow-purple-lg: 0 10px 30px 0 rgba(139, 92, 246, 0.20);
    
    /* AI Intelligence Glow */
    --glow-ai: 0 0 20px rgba(139, 92, 246, 0.3);
    --glow-success: 0 0 20px rgba(34, 197, 94, 0.3);
    --glow-alert: 0 0 20px rgba(239, 68, 68, 0.3);

    /* ===== SOPHISTICATED SPACING SCALE ===== */
    --space-px: 1px;
    --space-0: 0;
    --space-0-5: 0.125rem;  /* 2px */
    --space-1: 0.25rem;     /* 4px */
    --space-1-5: 0.375rem;  /* 6px */
    --space-2: 0.5rem;      /* 8px */
    --space-2-5: 0.625rem;  /* 10px */
    --space-3: 0.75rem;     /* 12px */
    --space-3-5: 0.875rem;  /* 14px */
    --space-4: 1rem;        /* 16px */
    --space-5: 1.25rem;     /* 20px */
    --space-6: 1.5rem;      /* 24px */
    --space-7: 1.75rem;     /* 28px */
    --space-8: 2rem;        /* 32px */
    --space-9: 2.25rem;     /* 36px */
    --space-10: 2.5rem;     /* 40px */
    --space-11: 2.75rem;    /* 44px */
    --space-12: 3rem;       /* 48px */
    --space-14: 3.5rem;     /* 56px */
    --space-16: 4rem;       /* 64px */
    --space-20: 5rem;       /* 80px */
    --space-24: 6rem;       /* 96px */
    --space-28: 7rem;       /* 112px */
    --space-32: 8rem;       /* 128px */

    /* ===== MOTION SYSTEM ===== */
    /* Duration Scale (Material Design Standard) */
    --motion-instant: 0ms;
    --motion-micro: 75ms;        /* Micro-interactions */
    --motion-short: 150ms;       /* Simple transitions */
    --motion-medium: 300ms;      /* Standard transitions */
    --motion-long: 500ms;        /* Complex transitions */
    --motion-extra-long: 750ms;  /* Page transitions */
    --motion-ai-pulse: 2000ms;   /* AI processing indicators */
    
    /* Easing Functions (Material + AI-Specific) */
    --ease-standard: cubic-bezier(0.4, 0.0, 0.2, 1);     /* Standard Material */
    --ease-decelerate: cubic-bezier(0.0, 0.0, 0.2, 1);   /* Incoming elements */
    --ease-accelerate: cubic-bezier(0.4, 0.0, 1, 1);     /* Outgoing elements */
    --ease-sharp: cubic-bezier(0.4, 0.0, 0.6, 1);        /* Sharp transitions */
    --ease-ai-breathing: cubic-bezier(0.45, 0.05, 0.55, 0.95); /* AI processing */
    --ease-confidence: cubic-bezier(0.25, 0.46, 0.45, 0.94);   /* AI confidence */
    
    /* Motion Tokens for Specific Use Cases */
    --motion-button-hover: var(--motion-micro) var(--ease-standard);
    --motion-card-hover: var(--motion-short) var(--ease-decelerate);
    --motion-modal-enter: var(--motion-medium) var(--ease-decelerate);
    --motion-modal-exit: var(--motion-short) var(--ease-accelerate);
    --motion-notification-enter: var(--motion-medium) var(--ease-confidence);
    --motion-ai-thinking: var(--motion-ai-pulse) var(--ease-ai-breathing);

    --radius: 0.5rem;

    /* ===== LIGHT THEME MAPPING (HSL format for consistency) ===== */
    --background: 0 0% 100%;
    --foreground: 220 9% 25%;

    --card: 0 0% 100%;
    --card-foreground: 220 9% 25%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 9% 25%;

    --primary: 255 91% 67%;
    --primary-foreground: 0 0% 100%;

    --secondary: 210 40% 94%;
    --secondary-foreground: 220 9% 25%;

    --muted: 210 40% 94%;
    --muted-foreground: 220 5% 45%;

    --accent: 210 40% 94%;
    --accent-foreground: 220 9% 25%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 13% 91%;
    --border-strong: 220 9% 80%;
    --border-subtle: 210 40% 96%;
    --input: 220 13% 91%;
    --ring: 255 91% 67%;

    /* Surface colors */
    --background-subtle: 220 14% 96%;
    --foreground-muted: 220 9% 40%;
    --foreground-subtle: 220 5% 45%;

    /* PRAVADO specific mappings (HSL format) */
    --pravado-purple: 255 91% 67%;
    --pravado-purple-light: 255 91% 75%;
    --pravado-purple-dark: 255 87% 63%;
    --pravado-purple-subtle: 255 91% 98%;
    --pravado-purple-muted: 255 91% 95%;

    /* Status colors (HSL format) */
    --status-success: 142 71% 45%;
    --status-warning: 38 92% 50%;
    --status-error: 0 84% 60%;
    --status-info: 217 91% 60%;
  }

  /* ===== SOPHISTICATED DARK THEME ===== */
  .dark {
    /* Dark Mode Foundations - Specified Colors */
    --background: 210 40% 11%;           /* #111827 - Main background (darkest) */
    --background-subtle: 210 40% 15%;    /* Enhanced subtle background */
    
    /* Dark Mode Content Areas */
    --card: 210 40% 18%;                 /* #1f2937 - Content areas (dark gray) */
    --card-foreground: 210 20% 98%;      /* #f9fafb - Near white text */
    
    /* Dark Mode Card/Panel Variations */
    --card-elevated: 210 40% 22%;        /* #374151 - Cards/panels (medium dark) */
    --card-interactive: 210 40% 25%;     /* Interactive card hover states */
    
    /* Dark Mode Text Hierarchy */
    --foreground: 210 20% 98%;           /* #f9fafb - Primary text (near white) */
    --foreground-secondary: 210 16% 93%; /* #e5e7eb - Secondary text (light gray) */
    --foreground-muted: 210 14% 83%;     /* #d1d5db - Enhanced muted text */
    --foreground-subtle: 220 14% 68%;    /* #9ca3af - Muted text (medium gray) */
    
    /* Dark Mode Borders - Specified Colors */
    --border: 210 18% 30%;               /* #4b5563 - Lighter gray for definition */
    --border-strong: 210 16% 35%;        /* Stronger border emphasis */
    --border-subtle: 210 40% 20%;        /* Subtle border variation */
    
    /* Dark Mode Form Elements */
    --input: 210 40% 18%;                /* Input background matches content areas */
    --input-border: 210 18% 30%;         /* Input border matches main border */
    --popover: 210 40% 15%;              /* Popover background */
    --popover-foreground: 210 20% 98%;   /* Popover text */
    
    /* Dark Mode Interactive Elements */
    --muted: 210 40% 15%;                /* Muted background */
    --muted-foreground: 220 14% 68%;     /* Muted text */
    --accent: 210 40% 18%;               /* Accent background */
    --accent-foreground: 210 20% 98%;    /* Accent text */
    --secondary: 210 40% 18%;            /* Secondary background */
    --secondary-foreground: 210 20% 98%; /* Secondary text */
    
    /* AI Purple Accents - Perfect for Dark Mode */
    --pravado-purple-600: 255 91% 67%;   /* #8b5cf6 - AI elements (works in dark mode) */
    --pravado-purple-700: 255 87% 63%;   /* Slightly adjusted for dark mode */
    
    /* Enhanced Dark Shadows - Sophisticated Depth */
    --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.15);
    --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.25), 
                 0 1px 2px 0 rgba(0, 0, 0, 0.15);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.35), 
                 0 2px 4px -1px rgba(0, 0, 0, 0.25);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.45), 
                 0 4px 6px -2px rgba(0, 0, 0, 0.35);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.55), 
                 0 10px 10px -5px rgba(0, 0, 0, 0.25);
                 
    /* Premium Dark Shadows */
    --shadow-premium: 0 8px 32px 0 rgba(0, 0, 0, 0.4);
    --shadow-premium-hover: 0 12px 40px 0 rgba(0, 0, 0, 0.5);
    
    /* AI-Specific Dark Shadows */
    --shadow-purple: 0 4px 14px 0 rgba(139, 92, 246, 0.25);
    --shadow-purple-lg: 0 10px 30px 0 rgba(139, 92, 246, 0.35);
    --glow-ai: 0 0 20px rgba(139, 92, 246, 0.4);
  }
  
  /* Dark Mode Utility Overrides */
  .dark .card-primary {
    @apply bg-gray-850 border-gray-700;
  }
  
  .dark .card-primary:hover {
    @apply bg-gray-800 border-gray-600;
  }
  
  .dark .text-primary {
    color: hsl(210 20% 98%);  /* #f9fafb */
  }
  
  .dark .text-secondary {
    color: hsl(210 16% 93%);  /* #e5e7eb */
  }
  
  .dark .text-tertiary {
    color: hsl(220 14% 68%);  /* #9ca3af */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  /* ===== TYPOGRAPHY FOUNDATION ===== */
  /* Import professional fonts */
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');

  /* Root typography settings */
  html {
    font-size: 16px;
    line-height: 1.5;
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    scroll-behavior: smooth;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    font-weight: 400;
    font-size: 1rem;
    line-height: 1.5;
    letter-spacing: -0.01em;
    font-feature-settings: "cv11", "ss01", "zero", "tnum";
    font-variation-settings: "opsz" 16;
  }

  /* Enhanced Typography Hierarchy */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Space Grotesk', 'Inter', system-ui, sans-serif;
    font-weight: 600;
    line-height: 1.25;
    letter-spacing: -0.025em;
    color: hsl(var(--foreground));
    margin: 0;
    transition: color var(--motion-short) var(--ease-standard);
  }

  h1 {
    font-size: 2.5rem;     /* 40px */
    font-weight: 700;
    line-height: 1.15;
    letter-spacing: -0.04em;
  }

  h2 {
    font-size: 2rem;       /* 32px */
    font-weight: 650;
    line-height: 1.2;
    letter-spacing: -0.03em;
  }

  h3 {
    font-size: 1.625rem;   /* 26px */
    font-weight: 600;
    line-height: 1.25;
    letter-spacing: -0.02em;
  }

  h4 {
    font-size: 1.375rem;   /* 22px */
    font-weight: 600;
    line-height: 1.3;
    letter-spacing: -0.01em;
  }

  h5 {
    font-size: 1.125rem;   /* 18px */
    font-weight: 600;
    line-height: 1.35;
  }

  h6 {
    font-size: 1rem;       /* 16px */
    font-weight: 600;
    line-height: 1.4;
  }

  /* Body text variations */
  p {
    margin: 0;
    line-height: 1.6;
    color: hsl(var(--foreground));
  }

  /* Professional link styling */
  a {
    color: hsl(var(--primary));
    text-decoration: none;
    font-weight: 500;
    transition: color 0.2s ease;
  }

  a:hover {
    color: hsl(var(--primary) / 0.8);
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;
  }

  /* Code typography */
  code, pre {
    font-family: 'JetBrains Mono', 'SF Mono', Monaco, Inconsolata, monospace;
    font-size: 0.875rem;
    line-height: 1.5;
  }

  code {
    @apply bg-muted px-1.5 py-0.5 rounded-md text-sm;
    font-weight: 500;
  }

  /* Professional form typography */  
  label {
    font-size: 0.875rem;
    font-weight: 500;
    line-height: 1.4;
    color: hsl(var(--foreground));
    letter-spacing: 0.01em;
  }

  input, textarea, select {
    font-family: inherit;
    font-size: 0.875rem;
    line-height: 1.5;
    font-weight: 400;
  }

  /* Enhanced focus styles for accessibility */
  button:focus-visible,
  [role="button"]:focus-visible,
  a:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--primary));
  }

  /* Reduced motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* High Contrast Mode Support */
  @media (prefers-contrast: high) {
    :root {
      --gray-200: #d0d0d0;
      --gray-300: #b0b0b0;
      --border: var(--gray-500);
      --foreground-muted: var(--gray-800);
    }
  }
}

/* ===== COMPREHENSIVE AI-SPECIFIC ANIMATIONS ===== */

/* AI Thinking Animation */
@keyframes ai-thinking {
  0%, 100% { 
    opacity: 0.6; 
    transform: scale(1); 
  }
  50% { 
    opacity: 1; 
    transform: scale(1.02); 
  }
}

/* AI Progress Wave */
@keyframes ai-progress-wave {
  0% { 
    transform: translateX(-100%) scaleX(0); 
  }
  50% { 
    transform: translateX(0%) scaleX(1); 
  }
  100% { 
    transform: translateX(100%) scaleX(0); 
  }
}

/* AI Confidence Pulse */
@keyframes ai-confidence-pulse {
  0% { 
    box-shadow: 0 0 0 0 hsl(var(--pravado-purple-400)); 
  }
  70% { 
    box-shadow: 0 0 0 10px rgba(139, 92, 246, 0); 
  }
  100% { 
    box-shadow: 0 0 0 0 rgba(139, 92, 246, 0); 
  }
}

/* AI Success Burst */
@keyframes ai-success-burst {
  0% { 
    transform: scale(1); 
    opacity: 1; 
  }
  50% { 
    transform: scale(1.1); 
    opacity: 0.8; 
  }
  100% { 
    transform: scale(1); 
    opacity: 1; 
  }
}

/* Workflow Guidance Animations */
@keyframes attention-director {
  0%, 100% { 
    transform: translateY(0); 
    box-shadow: var(--shadow-sm); 
  }
  50% { 
    transform: translateY(-2px); 
    box-shadow: var(--shadow-lg); 
  }
}

/* Error State Shake */
@keyframes error-shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
  20%, 40%, 60%, 80% { transform: translateX(2px); }
}

/* Success Confirmation */
@keyframes success-confirmation {
  0% { 
    transform: scale(0.5); 
    opacity: 0; 
  }
  50% { 
    transform: scale(1.1); 
    opacity: 1; 
  }
  100% { 
    transform: scale(1); 
    opacity: 1; 
  }
}

/* Legacy keyframes for backward compatibility */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes countUp {
  from {
    transform: scale(0.8);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes gradientShift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* Loading spinner enhancement */
.loading-spinner {
  border: 2px solid hsl(var(--gray-200));
  border-top: 2px solid hsl(var(--pravado-purple));
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@layer utilities {
  /* ===== AI-SPECIFIC DESIGN PATTERNS ===== */
  
  /* AI Confidence Visualization */
  .confidence-high {
    background: linear-gradient(90deg, hsl(var(--success-100)), hsl(var(--success-50)));
    border-left: 4px solid hsl(var(--success-500));
    color: hsl(var(--success-800));
  }

  .confidence-medium {
    background: linear-gradient(90deg, hsl(var(--warning-100)), hsl(var(--warning-50)));
    border-left: 4px solid hsl(var(--warning-500));
    color: hsl(var(--warning-800));
  }

  .confidence-low {
    background: linear-gradient(90deg, hsl(var(--alert-100)), hsl(var(--alert-50)));
    border-left: 4px solid hsl(var(--alert-500));
    color: hsl(var(--alert-800));
  }

  /* AI Processing States */
  .ai-thinking {
    background: hsl(var(--warm-gray-50));
    border: 1px solid hsl(var(--pravado-purple-200));
    color: hsl(var(--warm-gray-700));
    position: relative;
    overflow: hidden;
    animation: ai-thinking var(--motion-ai-pulse) infinite;
  }

  .ai-thinking::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, 
      transparent, 
      hsl(var(--pravado-purple-400)), 
      transparent
    );
    animation: ai-progress-wave 2s infinite;
  }

  /* Premium Card System */
  .card-primary {
    background: hsl(var(--white));
    border: 1px solid hsl(var(--gray-200));
    box-shadow: var(--shadow-sm);
    border-radius: 12px;
    transition: all var(--motion-card-hover);
  }

  .card-primary:hover {
    background: hsl(var(--gray-25));
    border-color: hsl(var(--gray-300));
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
  }

  .card-secondary {
    background: hsl(var(--gray-50));
    border: 1px solid hsl(var(--gray-100));
    box-shadow: var(--shadow-xs);
  }

  .card-ai-insight {
    background: hsl(var(--warm-gray-50));
    border: 1px solid hsl(var(--pravado-purple-200));
    box-shadow: var(--shadow-purple);
  }

  .card-data-visualization {
    background: hsl(var(--cool-gray-50));
    border: 1px solid hsl(var(--cool-gray-200));
    box-shadow: var(--shadow-sm);
  }

  /* Text Hierarchy System */
  .text-primary {
    color: hsl(var(--gray-900));
    font-weight: 600;
  }

  .text-secondary {
    color: hsl(var(--gray-700));
    font-weight: 500;
  }

  .text-tertiary {
    color: hsl(var(--gray-600));
    font-weight: 400;
  }

  .text-caption {
    color: hsl(var(--gray-500));
    font-weight: 400;
    font-size: 0.875rem;
  }

  .text-muted {
    color: hsl(var(--gray-400));
    font-weight: 400;
    font-size: 0.8125rem;
  }

  /* AI Intelligence Text */
  .text-ai-primary {
    color: hsl(var(--pravado-purple-700));
    font-weight: 600;
  }

  .text-ai-secondary {
    color: hsl(var(--warm-gray-700));
    font-weight: 500;
  }

  /* Status Text Colors */
  .text-success { color: hsl(var(--success-600)); }
  .text-warning { color: hsl(var(--warning-600)); }
  .text-alert { color: hsl(var(--alert-600)); }
  .text-intelligence { color: hsl(var(--intelligence-600)); }

  /* Button System with Sophisticated Grays */
  .btn-primary {
    background: hsl(var(--pravado-purple-600));
    color: hsl(var(--white));
    border: 1px solid hsl(var(--pravado-purple-600));
    box-shadow: var(--shadow-sm);
    transition: all var(--motion-button-hover);
  }

  .btn-primary:hover {
    background: hsl(var(--pravado-purple-700));
    border-color: hsl(var(--pravado-purple-700));
    box-shadow: var(--shadow-purple);
  }

  .btn-secondary {
    background: hsl(var(--white));
    color: hsl(var(--gray-700));
    border: 1px solid hsl(var(--gray-300));
    box-shadow: var(--shadow-xs);
  }

  .btn-secondary:hover {
    background: hsl(var(--gray-50));
    border-color: hsl(var(--gray-400));
    color: hsl(var(--gray-800));
    box-shadow: var(--shadow-sm);
  }

  .btn-ghost {
    background: transparent;
    color: hsl(var(--gray-600));
    border: 1px solid transparent;
  }

  .btn-ghost:hover {
    background: hsl(var(--gray-100));
    color: hsl(var(--gray-700));
    border-color: hsl(var(--gray-200));
  }

  /* AI-Specific Buttons */
  .btn-ai {
    background: linear-gradient(135deg, hsl(var(--pravado-purple-500)), hsl(var(--pravado-purple-600)));
    color: hsl(var(--white));
    border: none;
    box-shadow: var(--shadow-purple);
  }

  .btn-ai:hover {
    background: linear-gradient(135deg, hsl(var(--pravado-purple-600)), hsl(var(--pravado-purple-700)));
    box-shadow: var(--shadow-purple-lg);
  }

  /* Sophisticated Form Styling */
  .input-field {
    background: hsl(var(--white));
    border: 1px solid hsl(var(--gray-250));
    color: hsl(var(--gray-800));
    border-radius: 8px;
    transition: all 0.2s ease;
  }

  .input-field:focus {
    border-color: hsl(var(--pravado-purple-400));
    box-shadow: 0 0 0 3px hsl(var(--pravado-purple-100));
    outline: none;
  }

  .input-field::placeholder {
    color: hsl(var(--gray-400));
  }

  .input-field:disabled {
    background: hsl(var(--gray-75));
    border-color: hsl(var(--gray-200));
    color: hsl(var(--gray-500));
  }

  /* Enhanced animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.6s ease-out forwards;
    opacity: 0;
  }

  .animate-slide-up {
    animation: slideUp 0.6s ease-out forwards;
    opacity: 0;
    transform: translateY(20px);
  }

  .animate-scale-in {
    animation: scaleIn 0.4s ease-out forwards;
    opacity: 0;
    transform: scale(0.95);
  }

  .animate-count-up {
    animation: countUp 1s ease-out forwards;
  }

  /* AI-specific animations */
  .animate-ai-thinking {
    animation: ai-thinking var(--motion-ai-pulse) infinite;
  }

  .animate-ai-confidence-pulse {
    animation: ai-confidence-pulse 1.5s ease-out infinite;
  }

  .animate-ai-success-burst {
    animation: ai-success-burst var(--motion-medium) var(--ease-confidence);
  }

  .animate-attention-director {
    animation: attention-director 1s infinite;
  }

  .animate-error-shake {
    animation: error-shake 0.6s ease-in-out;
  }

  .animate-success-confirmation {
    animation: success-confirmation var(--motion-medium) var(--ease-confidence);
  }

  /* Hover utilities */
  .hover-lift {
    transition: all var(--motion-short) var(--ease-standard);
  }

  .hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }

  .hover-glow {
    transition: all var(--motion-short) var(--ease-standard);
  }

  .hover-glow:hover {
    box-shadow: var(--shadow-lg);
    filter: brightness(1.05);
  }

  /* AI-specific utilities */
  .ai-gradient {
    background: linear-gradient(135deg, hsl(var(--pravado-purple) / 0.15) 0%, hsl(var(--pravado-purple) / 0.05) 100%);
  }
  
  .ai-surface {
    background: hsl(var(--pravado-purple-subtle));
    border: 1px solid hsl(var(--pravado-purple-muted));
  }
  
  .glass-effect {
    backdrop-filter: blur(16px);
    background: hsl(var(--background) / 0.8);
    border: 1px solid hsl(var(--border));
  }
  
  .premium-glass {
    backdrop-filter: blur(16px) saturate(180%);
    background: hsl(var(--card) / 0.85);
    border: 1px solid hsl(var(--pravado-purple) / 0.2);
  }
  
  .enterprise-shadow {
    box-shadow: var(--shadow-premium);
  }
  
  /* Premium card component */
  .premium-card {
    background: hsl(var(--card));
    box-shadow: var(--shadow-premium);
    border: 1px solid hsl(var(--pravado-purple) / 0.15);
    backdrop-filter: blur(16px);
    transition: all var(--motion-medium) var(--ease-standard);
  }

  .premium-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-premium-hover);
    border-color: hsl(var(--pravado-purple) / 0.3);
  }
  
  .enterprise-glow {
    box-shadow: var(--glow-ai);
  }
  
  .glow-purple {
    box-shadow: 0 0 20px hsl(var(--pravado-purple) / 0.3);
  }
  
  .accent-border {
    border: 1px solid hsl(var(--pravado-purple) / 0.2);
  }

  /* Enhanced gradients */
  .gradient-text {
    background: linear-gradient(135deg, hsl(var(--pravado-purple-600)) 0%, hsl(var(--pravado-purple-500)) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .gradient-border {
    background: linear-gradient(135deg, hsl(var(--pravado-purple-600)), hsl(var(--pravado-purple-500)), hsl(var(--pravado-purple-700)));
    background-size: 200% 200%;
    animation: gradientShift 3s ease infinite;
  }

  /* GPU-Accelerated Transitions */
  .smooth-transition {
    transform: translateZ(0);
    will-change: transform, opacity;
    transition: all var(--motion-medium) var(--ease-standard);
  }

  /* Performance optimizations */
  .gpu-accelerated {
    transform: translateZ(0);
    will-change: transform;
    backface-visibility: hidden;
    perspective: 1000px;
  }

  /* ===== ACCESSIBILITY ENHANCEMENTS ===== */
  
  /* Screen reader only content */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* Focus management */
  .focus-trap {
    position: relative;
  }

  /* Skip links */
  .skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: hsl(var(--pravado-purple-600));
    color: white;
    padding: 8px;
    text-decoration: none;
    border-radius: 4px;
    z-index: 1000;
    font-weight: 500;
  }

  .skip-link:focus {
    top: 6px;
  }

  /* High contrast improvements */
  @media (prefers-contrast: high) {
    .card-primary {
      border-color: hsl(var(--gray-500));
      border-width: 2px;
    }
    
    .btn-primary {
      border: 2px solid hsl(var(--pravado-purple-700));
    }
    
    .input-field {
      border-width: 2px;
    }
  }

  /* Reduced motion enhancements */
  @media (prefers-reduced-motion: reduce) {
    .premium-card:hover,
    .card-primary:hover,
    .hover-lift:hover {
      transform: none;
    }
    
    .ai-thinking::before {
      animation: none;
      background: hsl(var(--pravado-purple-400));
    }
  }

  /* Touch target optimization */
  @media (pointer: coarse) {
    .btn-sm {
      min-height: 44px;
      min-width: 44px;
    }
    
    .btn-default {
      min-height: 44px;
    }
  }

  /* Color blind accessibility */
  .colorblind-safe {
    /* Use patterns and shapes alongside colors */
  }

  .error-indicator::before {
    content: '⚠';
    margin-right: 4px;
  }

  .success-indicator::before {
    content: '✓';
    margin-right: 4px;
  }

  .warning-indicator::before {
    content: '⚠';
    margin-right: 4px;
  }

  .info-indicator::before {
    content: 'ℹ';
    margin-right: 4px;
  }

  /* Print styles */
  @media print {
    .no-print {
      display: none !important;
    }
    
    .print-friendly {
      background: white !important;
      color: black !important;
      box-shadow: none !important;
    }
    
    /* Ensure good contrast for printing */
    .card-primary,
    .premium-card {
      border: 1px solid #000 !important;
      background: white !important;
    }
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes countUp {
  from {
    transform: scale(0.8);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes gradientShift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* Loading spinner enhancement */
.loading-spinner {
  border: 2px solid #f3f4f6;
  border-top: 2px solid #1e40af;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
